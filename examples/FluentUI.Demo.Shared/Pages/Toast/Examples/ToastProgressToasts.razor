@inject IToastService ToastService

<FluentButton Appearance=Appearance.Neutral @onclick="@ShowExample">Progress toast example 1</FluentButton>

<FluentButton Appearance="Appearance.Accent" @onclick=UpdateProgress>Update</FluentButton>

@code {

    private void ShowExample()
    {
        ToastService.ShowProgressToast(new()
            {
                Intent = ToastIntent.Upload,
                Title = "Uploading file",
                Timeout = 7,
                PrimaryAction = new ToastAction() { Text = "Cancel", Href = "#", OnClick = Clicked },
                SecondaryAction = new ToastAction() { Text = "Pause", Href = "#", OnClick = Clicked },
                Data = new ProgressToastData()
                {
                    Details = "This may take a while.",
                    Progress = "0",
                },
            });
    }

    private void Clicked()
    {
        DemoLogger.WriteLine("Clicked toast action");
    }

    private void UpdateProgress()
    {
        for (int i = 0; i < 100; i++)
        {
            //_progressToastData.Data.Progress = i.ToString();
            StateHasChanged();
            Thread.Sleep(100);
        };
    }
}